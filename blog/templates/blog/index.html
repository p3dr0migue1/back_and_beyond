{% extends "blog/base.html" %}
{% load blog_tags %}

{% block content %}
  <section class="blog_posts">
    <!-- posts -->
    {% block posts %}
      {% if posts %}
        {% for post in posts %}
          <article class="post">
            <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
            <div class="post_footer">
              <span class="post-date"> {{ post.date_created|date:'D d M Y' }}</span>

              {% if post.tags.all %}
                <span class="tags">Tags:
                  {% for tag in post.tags.all %}
                    <a href="{% url 'blog:posts_in_tag' tag.slug  %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
                  {% endfor %}
                </span>
              {% else %}
                <span class="tags">No Tags assign to this post.</span>
              {% endif %}

            </div>
          </article>
        {% endfor %}
      {% else %}
        <article class="post">
          <h3>No posts to display yet..</h3>
        </article>
      {% endif %}
    {% endblock posts %}
  </section>

  <!-- blog navigation -->
  {% include "includes/blog_navigation.html" %}

  <!-- blog posts pagination -->
  <div class="pagination">
      <span class="step-links">
          {% if posts.has_previous %}
              <a href="?page={{ posts.previous_page_number }}">previous</a>
          {% endif %}
          <span class="current">
              Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
          </span>
          {% if posts.has_next %}
              <a href="?page={{ posts.next_page_number }}">next</a>
          {% endif %}
      </span>
  </div>
{% endblock content %}
